# Networking
The topic of networks is a large broad field from hardware to software solutions. 
Most common Software Systems use TCP over IP. Therefore this will be our focus for this chapter.
We want to gain an understanding how common high level protocols like HTTP work upon this stack.
But to provide an general overview this chapter starts with the OSI model showing the layers for communication for computing systems in an abstract form. Later on it will continue describing examples of layers' implementations like IP, TCP, HTTP, etc. 
## OSI model
The Open Systems Interconnection model is a conceptual model that splits the functions of communication in abstract layers. It does not describe the possible internal implementation, it rather 
 Each intermediate layer serves a class of functionality to the layer above it and is served by the layer below it.

The functions  describe the basic applications for communication of all communication protocols.
 The OSI model consists out of the following layers Physical, Data link, Network, Transport, Session, Presentation and Application.

 |              | Layer |              | Protocol data unit (PDU) |                                                                     Function                                                                     |
|:------------:|:-----:|:------------:|:------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------:|
|  Host layers | 7     | Application  | Data                     | High-level protocols such as for resource sharing or remote file access, e.g. HTTP.                                                              |
|              | 6     | Presentation |                          | Translation of data between a networking service and an application; including character encoding, data compression and encryption/decryption    |
|              | 5     | Session      |                          | Managing communication sessions, i.e., continuous exchange of information in the form of multiple back-and-forth transmissions between two nodes |
|              | 4     | Transport    | Segment, Datagram        | Reliable transmission of data segments between points on a network, including segmentation, acknowledgement and multiplexing                     |
| Media layers | 3     | Network      | Packet                   | Structuring and managing a multi-node network, including addressing, routing and traffic control                                                 |
|              | 2     | Data link    | Frame                    | Transmission of data frames between two nodes connected by a physical layer                                                                      |
|              | 1     | Physical     | Bit, Symbol              | Transmission and reception of raw bit streams over a physical medium                                                                             |

## What component handles which layer?
The device (e.g. our computer) is running on covers the physical layer and tha data link layer. The hardware and firmware translates between physical signals and bits. They also group them to frames. The device's driver controls the according functions. The network layer and the transport layer are covered by the OS, although privileged user space processes may get access to the data.

>A modern computer operating system usually segregates virtual memory into user space and kernel space. Primarily, this separation serves to provide memory protection and hardware protection from malicious or errant software behaviour.

Kernel space is strictly reserved for running a privileged operating system kernel, kernel extensions, and most device drivers. In contrast, user space is the memory area where application software and some drivers execute.

The frame header data tells what to do with the frame. If the kernel (more precisely: the network driver) knows the type of the payload (e.g. IPv4 or IPv6) then the packet (after stripping off data link layer headers and trailers) is passed up to the according network layer driver.

It will handle all peculiarities of the network layer protocol, such as fragmentation and reassembly, checksum calculation and verification, etc. plus all network layer specific tasks such as routing and packet filtering. Depending on the payload (TCP, UDP, etc.) the packet is passed further up to the according transport layer driver. It will handle all the transport layer specific stuff. For connection oriented protocols like TCP it means for instance keeping track of the connection state, maintaining the queues and doing the bookkeeping; another thing is congestion control.

Once a packet has passed that layer it is passed further up (again after stripping the transport layer header), but this time to the user space process. The user space process sees virtually nothing of the lower level processing.

## Comparisment to the TCP/IP model
The TCP/IP model serves the same purpose as the OSI model, it defines functions for diffent layers 

![OSIvsTCP/IP](https://www.imperva.com/learn/wp-content/uploads/sites/13/2020/02/OSI-vs.-TCPIP-models.jpg)

## Network layer
 The network layer is responsible for packet forwarding including routing through intermediate routers. Examples of protocols operating at the network layer are DDP, IGMP, IP (IPv4/IPv6).
 Let's have a look at IP.
### IP
Internet Protocol provides the ability of computers to communicate with other computers on the same network. This connection-less protocol specifies concepts such as Addressing and Routing to enable it to send data packets (datagrams) from one host to another host connected on the same network or across network boundaries.
The basic unit for IP is called packet:

![IP packet](https://www.w3.org/People/Frystyk/thesis/IPFrame.gif) 
## Transport layer
### Ports
In computer networking, a port is a number assigned to uniquely identify a connection endpoint and to direct data to a specific service. At the software level, within an operating system, a port is a logical construct that identifies a specific process or a type of network service. A port is identified for each transport protocol and address combination by a 16-bit unsigned number, known as the port number.
### UDP
UDP - The User Datagram Protocol (UDP) is a very thin protocol build on top of the IP. It is, what is known as, a connectionless transmission protocol designed to reduce latency of delivery. To do this, UDP sends data packets (or datagrams) to hosts, on an IP network, with minimum reliability and delivery guarantee.
The basic unit of data is the User datagram:

![User datagram](https://www.w3.org/People/Frystyk/thesis/UDPFrame.gif) 
### TCP
TCP - When the transmission of data, between hosts on a network, requires a more robust guarantees of delivery than, say UDP, the Transmission Control Protocol (or TCP) is used over an IP network. The protocol uses a session between communicating parties which starts with a handshake to establish a durable connection between hosts that can handle transmission error, out-of-order packets, and delivery guarantee.
The basic data unit is called segment in TCP:

![User datagram](https://www.w3.org/People/Frystyk/thesis/TCPSegment.gif) 

## Application Layer
Now that we understand the TCP/IP we stack them to understand how they are used to implement for the application layer. As our first example we use HTTP.
 
![User datagram](https://www.oreilly.com/library/view/http-the-definitive/1565925092/httpatomoreillycomsourceoreillyimages96904.png) 

We're going to have a look at HTTP and MQTT. HTTP is an example for a request-respone protocol and MQTT is an example for an publish-subscribe protocol.
### Request-response and publish-subscribe.
A request-response protocol often use the client-server model, meaning the client sends a request to the server and the server responses to that request. 
In comparision the publish-subscribe model is a more decoupled variant between two applications. Between two applications exchanging information there is the so called message broker. An application that publishes messages to a topic at the broker is called producer. An application that wants to read these messages of needs to subscribe the topic and are called consumers. So there is no direct communication between producers and consumers. 

### HTTP
Hypertext Transfer Protocol is the application layer protocol we going first to have a look at. HTTP is the foundation of data communication for the World Wide Web. 
As you might know we use it daily when browsing on the Web. Our device is the client which is requesting a website from a server. 
Or in short: HTTP is a request-response protocol that uses a client-server model. Unlike FTP HTTP is a stateless protocol i.e. the server does not need to retain information for each user over multiple requests.
A HTTP request or response is consist out of three sections the start line, the Header and the Body. Let's first have a look how a http request is structured and then we'll have a look whats different at the HTTP response.

#### HTTP request
HTTP requests are message sent by the client to initiate an action on the server. Their start-line contain three elements:
- HTTP method like GET, which describes the action to be performed
- the request target, usually an URL
- and the HTTP version, which defines the structure of the remaining message and acting as an indicator of the expected version to use for the response.
The HTTP Headers follow after the start line. They are case-insensitive string that is followed by a colon (':') and a value for that header. One header is one line in the HTTP message.
The final part of the request is the body. Not all request have one. For example a request with the method GET is used for fetching data. The body can contain different kind of data with the header "Content-Type" and "Content-Length" the receiver can understand what type of data it gets and what size the data have in order to make sure when it is finished.

```
POST /examples HTTP/1.1
Host: localhost:8080
Connection: keep-alive
Context-Type: text/html
Content-Length: 123

Body line 1
Body line 2
...

```

##### Methods

| Method  | Description                                                                                                                 | Specification Link                            |
|---------|-----------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------|
| GET     | The GET method requests a representation of the specified resource. Requests using GET should only retrieve data.           | https://httpwg.org/specs/rfc7231.html#GET     |
| HEAD    | The HEAD method asks for a response identical to a GET request, but without the response body.                              | https://httpwg.org/specs/rfc7231.html#HEAD    |
| POST    | The POST method submits an entity to the specified resource, often causing a change in state or side effects on the server. | https://httpwg.org/specs/rfc7231.html#POST    |
| PUT     | The PUT method replaces all current representations of the target resource with the request payload.                        | https://httpwg.org/specs/rfc7231.html#PUT     |
| DELETE  | The DELETE method deletes the specified resource.                                                                           | https://httpwg.org/specs/rfc7231.html#DELETE  |
| CONNECT | The CONNECT method establishes a tunnel to the server identified by the target resource.                                    | https://httpwg.org/specs/rfc7231.html#CONNECT |
| OPTIONS | The OPTIONS method describes the communication options for the target resource.                                             | https://httpwg.org/specs/rfc7231.html#OPTIONS |
| TRACE   | The TRACE method performs a message loop-back test along the path to the target resource.                                   | https://httpwg.org/specs/rfc7231.html#TRACE   |
| PATCH   | The PATCH method applies partial modifications to a resource.                                                               | https://www.rfc-editor.org/rfc/rfc5789        |


#### HTTP Response
The HTTP response also consists out of the start line, the header and the body. It divers from the request only at the start line. The start line does not contain a method since the server is responding with an result and is not demanding an action from the client. Instead of the method the start line contains the status code which indicate the success or the failure of that demanded action.

```
HTTP/1.1 200 OK
Connection: keep-alive
Context-Type: text/html
Content-Length: 123

Body line 1
Body line 2
...

```

##### Status codes
The status codes of HTTP response indicate whether the corresponding HTTP request was successful. The codes are grouped in five categories:
1. Informational responses (100–199)
2. Successful responses (200–299)
3. Redirection messages (300–399)
4. Client error responses (400–499)
5. Server error responses (500–599)

The following table is a comprehensive list of the status codes. You don't need to know all the status codes. Most common are: 
* 200: Request was successful
* 204: Request was successful - no payload included in the message body
* 30x: Redirection 
* 400: Request message is invalid
* 403: Request is not authorized
* 404: Resource not found
* 405: Method for that URI not supported
* 500: Internal server error
* 503: Service unavailable (server is not ready)

|   Code  | Description                     | Explaination                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Specification Link              |
|:-------:|---------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------|
|   100   | Continue                        | This interim response indicates that the client should continue the request or ignore the response if the request is already finished.                                                                                                                                                                                                                                                                                                                                                                                                                                                      | https://www.iana.org/go/rfc9110 |
|   101   | Switching Protocols             | This code is sent in response to an Upgrade request header from the client and indicates the protocol the server is switching to.                                                                                                                                                                                                                                                                                                                                                                                                                                                           | https://www.iana.org/go/rfc9110 |
|   102   | Processing (WebDAV)             | This code indicates that the server has received and is processing the request, but no response is available yet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | https://www.iana.org/go/rfc2518 |
|   103   | Early Hints                     | This status code is primarily intended to be used with the Link header, letting the user agent start preloading resources while the server prepares a response.                                                                                                                                                                                                                                                                                                                                                                                                                             | https://www.iana.org/go/rfc8297 |
| 104-199 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
|   200   | OK                              | The request succeeded. The result meaning of "success" depends on the HTTP method:                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | https://www.iana.org/go/rfc9110 |
|   201   | Created                         | The request succeeded, and a new resource was created as a result. This is typically the response sent after POST requests, or some PUT requests.                                                                                                                                                                                                                                                                                                                                                                                                                                           | https://www.iana.org/go/rfc9110 |
|   202   | Accepted                        | The request succeeded, and a new resource was created as a result. This is typically the response sent after POST requests, or some PUT requests.                                                                                                                                                                                                                                                                                                                                                                                                                                           | https://www.iana.org/go/rfc9110 |
|   203   | Non-Authoritative Information   | This response code means the returned metadata is not exactly the same as is available from the origin server, but is collected from a local or a third-party copy. This is mostly used for mirrors or backups of another resource. Except for that specific case, the 200 OK response is preferred to this status.                                                                                                                                                                                                                                                                         | https://www.iana.org/go/rfc9110 |
|   204   | No Content                      | There is no content to send for this request, but the headers may be useful. The user agent may update its cached headers for this resource with the new ones.                                                                                                                                                                                                                                                                                                                                                                                                                              | https://www.iana.org/go/rfc9110 |
|   205   | Reset Content                   | Tells the user agent to reset the document which sent this request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | https://www.iana.org/go/rfc9110 |
|   206   | Partial Content                 | This response code is used when the Range header is sent from the client to request only part of a resource.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | https://www.iana.org/go/rfc9110 |
|   207   | Multi-Status (WebDAV)           | The message body that follows is by default an XML message and can contain a number of separate response codes, depending on how many sub-requests were made.                                                                                                                                                                                                                                                                                                                                                                                                                               | https://www.iana.org/go/rfc4918 |
|   208   | Already Reported (WebDAV)       | Used inside a dav:propstat response element to avoid repeatedly enumerating the internal members of multiple bindings to the same collection.                                                                                                                                                                                                                                                                                                                                                                                                                                               | https://www.iana.org/go/rfc5842 |
| 209-225 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 226     | IM Used (HTTP Delta encoding)   | The server has fulfilled a GET request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.                                                                                                                                                                                                                                                                                                                                                                                                          | https://www.iana.org/go/rfc3229 |
| 227-299 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 300     | Multiple Choices                | The request has more than one possible response. The user agent or user should choose one of them. (There is no standardized way of choosing one of the responses, but HTML links to the possibilities are recommended so the user can pick.)                                                                                                                                                                                                                                                                                                                                               | https://www.iana.org/go/rfc9110 |
| 301     | Moved Permanently               | The URL of the requested resource has been changed permanently. The new URL is given in the response.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | https://www.iana.org/go/rfc9110 |
| 302     | Found                           | This response code means that the URI of requested resource has been changed temporarily. Further changes in the URI might be made in the future. Therefore, this same URI should be used by the client in future requests.                                                                                                                                                                                                                                                                                                                                                                 | https://www.iana.org/go/rfc9110 |
| 303     | See Other                       | The server sent this response to direct the client to get the requested resource at another URI with a GET request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | https://www.iana.org/go/rfc9110 |
| 304     | Not Modified                    | This is used for caching purposes. It tells the client that the response has not been modified, so the client can continue to use the same cached version of the response.                                                                                                                                                                                                                                                                                                                                                                                                                  | https://www.iana.org/go/rfc9110 |
| 305     | Use Proxy                       | Defined in a previous version of the HTTP specification to indicate that a requested response must be accessed by a proxy. It has been deprecated due to security concerns regarding in-band configuration of a proxy.                                                                                                                                                                                                                                                                                                                                                                      | https://www.iana.org/go/rfc9110 |
| 306     | (Unused)                        | This response code is no longer used; it is just reserved. It was used in a previous version of the HTTP/1.1 specification.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | https://www.iana.org/go/rfc9110 |
| 307     | Temporary Redirect              | The server sends this response to direct the client to get the requested resource at another URI with same method that was used in the prior request. This has the same semantics as the 302 Found HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request.                                                                                                                                                                                                     | https://www.iana.org/go/rfc9110 |
| 308     | Permanent Redirect              | This means that the resource is now permanently located at another URI, specified by the Location: HTTP Response header. This has the same semantics as the 301 Moved Permanently HTTP response code, with the exception that the user agent must not change the HTTP method used: if a POST was used in the first request, a POST must be used in the second request.                                                                                                                                                                                                                      | https://www.iana.org/go/rfc9110 |
| 309-399 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 400     | Bad Request                     | The server cannot or will not process the request due to something that is perceived to be a client error (e.g., malformed request syntax, invalid request message framing, or deceptive request routing).                                                                                                                                                                                                                                                                                                                                                                                  | https://www.iana.org/go/rfc9110 |
| 401     | Unauthorized                    | Although the HTTP standard specifies "unauthorized", semantically this response means "unauthenticated". That is, the client must authenticate itself to get the requested response.                                                                                                                                                                                                                                                                                                                                                                                                        | https://www.iana.org/go/rfc9110 |
| 402     | Payment Required                | This response code is reserved for future use. The initial aim for creating this code was using it for digital payment systems, however this status code is used very rarely and no standard convention exists.                                                                                                                                                                                                                                                                                                                                                                             | https://www.iana.org/go/rfc9110 |
| 403     | Forbidden                       | The client does not have access rights to the content; that is, it is unauthorized, so the server is refusing to give the requested resource. Unlike 401 Unauthorized, the client's identity is known to the server.                                                                                                                                                                                                                                                                                                                                                                        | https://www.iana.org/go/rfc9110 |
| 404     | Not Found                       | The server can not find the requested resource. In the browser, this means the URL is not recognized. In an API, this can also mean that the endpoint is valid but the resource itself does not exist. Servers may also send this response instead of 403 Forbidden to hide the existence of a resource from an unauthorized client. This response code is probably the most well known due to its frequent occurrence on the web.                                                                                                                                                          | https://www.iana.org/go/rfc9110 |
| 405     | Method Not Allowed              | The request method is known by the server but is not supported by the target resource. For example, an API may not allow calling DELETE to remove a resource.                                                                                                                                                                                                                                                                                                                                                                                                                               | https://www.iana.org/go/rfc9110 |
| 406     | Not Acceptable                  | This response is sent when the web server, after performing server-driven content negotiation, doesn't find any content that conforms to the criteria given by the user agent.                                                                                                                                                                                                                                                                                                                                                                                                              | https://www.iana.org/go/rfc9110 |
| 407     | Proxy Authentication Required   | This is similar to 401 Unauthorized but authentication is needed to be done by a proxy.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | https://www.iana.org/go/rfc9110 |
| 408     | Request Timeout                 | This response is sent on an idle connection by some servers, even without any previous request by the client. It means that the server would like to shut down this unused connection. This response is used much more since some browsers, like Chrome, Firefox 27+, or IE9, use HTTP pre-connection mechanisms to speed up surfing. Also note that some servers merely shut down the connection without sending this message.                                                                                                                                                             | https://www.iana.org/go/rfc9110 |
| 409     | Conflict                        | This response is sent when a request conflicts with the current state of the server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | https://www.iana.org/go/rfc9110 |
| 410     | Gone                            | This response is sent when the requested content has been permanently deleted from server, with no forwarding address. Clients are expected to remove their caches and links to the resource. The HTTP specification intends this status code to be used for "limited-time, promotional services". APIs should not feel compelled to indicate resources that have been deleted with this status code.                                                                                                                                                                                       | https://www.iana.org/go/rfc9110 |
| 411     | Length Required                 | Server rejected the request because the Content-Length header field is not defined and the server requires it                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | https://www.iana.org/go/rfc9110 |
| 412     | Precondition Failed             | The client has indicated preconditions in its headers which the server does not meet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | https://www.iana.org/go/rfc9110 |
| 413     | Content Too Large               | Request entity is larger than limits defined by server. The server might close the connection or return an Retry-After header field.                                                                                                                                                                                                                                                                                                                                                                                                                                                        | https://www.iana.org/go/rfc9110 |
| 414     | URI Too Long                    | The URI requested by the client is longer than the server is willing to interpret.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | https://www.iana.org/go/rfc9110 |
| 415     | Unsupported Media Type          | The media format of the requested data is not supported by the server, so the server is rejecting the request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | https://www.iana.org/go/rfc9110 |
| 416     | Range Not Satisfiable           | The range specified by the Range header field in the request cannot be fulfilled. It's possible that the range is outside the size of the target URI's data.                                                                                                                                                                                                                                                                                                                                                                                                                                | https://www.iana.org/go/rfc9110 |
| 417     | Expectation Failed              | This response code means the expectation indicated by the Expect request header field cannot be met by the server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | https://www.iana.org/go/rfc9110 |
| 418     | (Unused)                        | Used to be "I'm a tea pot" The server refuses the attempt to brew coffee with a teapot.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | https://www.iana.org/go/rfc9110 |
| 419-420 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 421     | Misdirected Request             | The request was directed at a server that is not able to produce a response. This can be sent by a server that is not configured to produce responses for the combination of scheme and authority that are included in the request URI.                                                                                                                                                                                                                                                                                                                                                     | https://www.iana.org/go/rfc9110 |
| 422     | Unprocessable Content (WebDAV)  | The request was well-formed but was unable to be followed due to semantic errors.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | https://www.iana.org/go/rfc9110 |
| 423     | Locked                          | The resource that is being accessed is locked.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | https://www.iana.org/go/rfc4918 |
| 424     | Failed Dependency               | The request failed due to failure of a previous request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | https://www.iana.org/go/rfc4918 |
| 425     | Too Early                       | Indicates that the server is unwilling to risk processing a request that might be replayed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | https://www.iana.org/go/rfc8470 |
| 426     | Upgrade Required                | The server refuses to perform the request using the current protocol but might be willing to do so after the client upgrades to a different protocol. The server sends an Upgrade header in a 426 response to indicate the required protocol(s).                                                                                                                                                                                                                                                                                                                                            | https://www.iana.org/go/rfc9110 |
| 427     | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 428     | Precondition Required           | The origin server requires the request to be conditional. This response is intended to prevent the 'lost update' problem, where a client GETs a resource's state, modifies it and PUTs it back to the server, when meanwhile a third party has modified the state on the server, leading to a conflict.                                                                                                                                                                                                                                                                                     | https://www.iana.org/go/rfc6585 |
| 429     | Too Many Requests               | The user has sent too many requests in a given amount of time ("rate limiting").                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | https://www.iana.org/go/rfc6585 |
| 430     | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 431     | Request Header Fields Too Large | The server is unwilling to process the request because its header fields are too large. The request may be resubmitted after reducing the size of the request header fields.                                                                                                                                                                                                                                                                                                                                                                                                                | https://www.iana.org/go/rfc6585 |
| 432-450 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 451     | Unavailable For Legal Reasons   | The user agent requested a resource that cannot legally be provided, such as a web page censored by a government.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | https://www.iana.org/go/rfc7725 |
| 452-499 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 500     | Internal Server Error           | The server has encountered a situation it does not know how to handle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | https://www.iana.org/go/rfc9110 |
| 501     | Not Implemented                 | The request method is not supported by the server and cannot be handled. The only methods that servers are required to support (and therefore that must not return this code) are GET and HEAD.                                                                                                                                                                                                                                                                                                                                                                                             | https://www.iana.org/go/rfc9110 |
| 502     | Bad Gateway                     | This error response means that the server, while working as a gateway to get a response needed to handle the request, got an invalid response.                                                                                                                                                                                                                                                                                                                                                                                                                                              | https://www.iana.org/go/rfc9110 |
| 503     | Service Unavailable             | The server is not ready to handle the request. Common causes are a server that is down for maintenance or that is overloaded. Note that together with this response, a user-friendly page explaining the problem should be sent. This response should be used for temporary conditions and the Retry-After HTTP header should, if possible, contain the estimated time before the recovery of the service. The webmaster must also take care about the caching-related headers that are sent along with this response, as these temporary condition responses should usually not be cached. | https://www.iana.org/go/rfc9110 |
| 504     | Gateway Timeout                 | This error response is given when the server is acting as a gateway and cannot get a response in time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | https://www.iana.org/go/rfc9110 |
| 505     | HTTP Version Not Supported      | The HTTP version used in the request is not supported by the server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | https://www.iana.org/go/rfc9110 |
| 506     | Variant Also Negotiates         | The server has an internal configuration error: the chosen variant resource is configured to engage in transparent content negotiation itself, and is therefore not a proper end point in the negotiation process.                                                                                                                                                                                                                                                                                                                                                                          | https://www.iana.org/go/rfc2295 |
| 507     | Insufficient Storage (WebDAV)   | The method could not be performed on the resource because the server is unable to store the representation needed to successfully complete the request.                                                                                                                                                                                                                                                                                                                                                                                                                                     | https://www.iana.org/go/rfc4918 |
| 508     | Loop Detected (WebDAV)          | The server detected an infinite loop while processing the request.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | https://www.iana.org/go/rfc5842 |
| 509     | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
| 510     | Not Extended (OBSOLETED)        | Further extensions to the request are required for the server to fulfill it.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | https://www.iana.org/go/rfc2774 |
| 511     | Network Authentication Required | Indicates that the client needs to authenticate to gain network access.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | https://www.iana.org/go/rfc6585 |
| 512-599 | Unassigned                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                 |
### MQTT
As a different Example for a application layer protocol we going to look at is  **MQ** **T**elemetry **T**ansport. It is a lightweight publish-subscribe protocoll.

# Recommended Links
* https://developer.mozilla.org/en-US/docs/Web/HTTP
* https://docs.oasis-open.org/mqtt/mqtt/v5.0/mqtt-v5.0.html

